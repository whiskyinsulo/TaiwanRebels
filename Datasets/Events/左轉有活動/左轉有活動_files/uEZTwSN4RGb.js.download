if (self.CavalryLogger) { CavalryLogger.start_js(["LXrnK"]); }

__d("MercuryAudioType",[],(function(a,b,c,d,e,f){e.exports={FileAttachment:"file_attachment",AudioClip:"fb_voice_message",VoiceMessageWithTranscript:"fb_voice_message_with_transcript"}}),null);
__d("MessagingTag",[],(function(a,b,c,d,e,f){e.exports={ACTION_ARCHIVED:"action:archived",INBOX:"inbox",MARKETPLACE_FOLDER:"marketplace_folder",PENDING:"pending",MONTAGE:"montage",OTHER:"other",EVENT:"event",SENT:"sent",SPAM:"spam",UPDATES:"broadcasts_inbox",BCC:"header:bcc",FILTERED_CONTENT:"filtered_content",FILTERED_CONTENT_BH:"filtered_content_bh",FILTERED_CONTENT_ACCOUNT:"filtered_content_account",FILTERED_CONTENT_QUASAR:"filtered_content_quasar",FILTERED_CONTENT_INVALID_APP:"filtered_content_invalid_app",UNAVAILABLE_ATTACHMENT:"unavailable_attachment",UNREAD:"unread",FLAGGED:"flagged",GROUPS:"groups",TRANSITIONAL_MAILBOX:"transitional_mailbox",ARCHIVED:"archived",EMAIL:"email",VOICEMAIL:"voicemail",SPAM_SPOOFING:"spam:spoofing",SPOOF_WARNING:"MTA:spoof_warning",SMS_TAG_ROOT:"SMSShortcode:",APP_ID_ROOT:"app_id:",DOMAIN_AUTH_PASS:"MTA:dmarc:pass",DOMAIN_AUTH_FAIL:"MTA:dmarc:fail",MTA_SYSTEM_MESSAGE:"MTA:system_message",EMAIL_MESSAGE:"source:email",MARKETPLACE:"marketplace",ROOM:"room",PAGES:"pages",PAGE_BACKGROUND:"page_background",PAGE_FOLLOWUP:"page_followup",ONE_CLICK_MESSAGE:"page_one_click_message",MESSAGE_REQUEST_AGGREGATION_UNIT:"message_request_aggregation_unit",ONE_WAY_MESSAGE:"one_way_message",ACTION_COPIED_MESSAGE:"action:copy_message",ACTION_COPIED_SELF_MESSAGE:"copy_self_message",ACTION_COPIED_ATTACHMENT:"action:copy_attachment",ACTION_COPIED_SELF_ATTACHMENT:"copy_self_attachment",IRIS_MAPPING:{FOLDER_INVALID:null,FOLDER_INBOX:"inbox",FOLDER_OTHER:"other",FOLDER_SPAM:"spam",FOLDER_PENDING:"pending",FOLDER_MONTAGE:"montage",FOLDER_HIDDEN:"hidden",FOLDER_DISABLED:"disabled",FOLDER_PAGE_BACKGROUND:"page_background",FOLDER_PAGE_DONE:"page_done",FOLDER_BLOCKED:"blocked"}}}),null);
__d("MercuryAttachmentSnippetType",["keyMirror"],(function(a,b,c,d,e,f){a=b("keyMirror")({PHOTO:null,GIF:null,VIDEO:null,AUDIO_CLIP:null,STICKER:null,SHARE:null,ERROR:null,MIXED:null,GIFT:null,THIRDPARTYSTICKER:null,FILE:null,LIKE_STICKER:null});c=a;e.exports=c}),null);
__d("MercuryGiftSnippetRenderer",["fbt"],(function(a,b,c,d,e,f,g){"use strict";f.renderText=a;function a(a,b){return a?g._("You sent a valentine."):g._("{name} sent a valentine.",[g._param("name",b)])}}),null);
__d("MessengerLightweightActionUtils",[],(function(a,b,c,d,e,f){"use strict";f.isLWAAttachment=g;f.isLWAMessage=a;f.getCollapsedLWAText=b;f.getLWASnippetText=c;function g(a){return!!(a&&a.attach_type==="share"&&a.share&&a.share.target&&a.share.target.lwa_type)}function a(a){a=a==null?void 0:a.attachments;return!!(a&&a.length===1&&g(a[0]))}function b(a){return a.attachments[0].share.title}function c(a){return a[0].share.title}}),null);
__d("P2PSnippetStringUtils",["fbt"],(function(a,b,c,d,e,f,g){f.getRequestCanceledSnippet=a;f.getRequestDeclinedSnippet=b;f.getRequestSentSnippet=c;f.getRequestSnippetByStatus=d;f.getTransferCanceledSnippet=e;f.getTransferDeclinedSnippet=h;f.getTransferSentSnippet=i;f.getTransferSnippetByStatus=j;function a(a,b,c,d,e){if(a)return g._("Your request for {payment request amount} from {receiver's name} was canceled.",[g._param("payment request amount",e),g._param("receiver's name",d)]);else if(b)return g._("{requester's name}'s request for {payment request amount} was canceled.",[g._param("requester's name",c),g._param("payment request amount",e)]);else return g._("{requester's name}'s request for {payment request amount} from {receiver's name} was canceled.",[g._param("requester's name",c),g._param("payment request amount",e),g._param("receiver's name",d)])}function b(a,b,c,d,e){if(a)return g._("{receiver's name} declined your request for {payment request amount}.",[g._param("receiver's name",d),g._param("payment request amount",e)]);else if(b)return g._("You declined {requester's name}'s request for {payment request amount}.",[g._param("requester's name",c),g._param("payment request amount",e)]);else return g._("{receiver's name} declined {sender's name}'s request for {payment request amount}.",[g._param("receiver's name",d),g._param("sender's name",c),g._param("payment request amount",e)])}function c(a,b,c,d,e){if(a)return g._("You requested {amount} from {requestee name}.",[g._param("amount",e),g._param("requestee name",d)]);else if(b)return g._("{requester name} requested {amount} from you.",[g._param("requester name",c),g._param("amount",e)]);else return g._("{name} requested {amount} from {requestee name}.",[g._param("name",c),g._param("amount",e),g._param("requestee name",d)])}function d(a,b,c,d,e,f){a=a||1;b=[b,c,d,e,f];switch(a){case 2:return this.getRequestDeclinedSnippet.apply(this,b);case 5:case 6:return this.getRequestCanceledSnippet.apply(this,b)}return this.getRequestSentSnippet.apply(this,b)}function e(a,b,c,d,e){if(a)return g._("Your {amount} payment to {receiver_name} was canceled.",[g._param("amount",e),g._param("receiver_name",d)]);else if(b)return g._("{sender name}'s {amount} payment was canceled.",[g._param("sender name",c),g._param("amount",e)]);else return g._("{sender_name}'s {amount} payment to {receiver_name} was canceled.",[g._param("sender_name",c),g._param("amount",e),g._param("receiver_name",d)])}function h(a,b,c,d,e){if(a)return g._("{receiver_name} didn't accept your {amount} payment.",[g._param("receiver_name",d),g._param("amount",e)]);else if(b)return g._("You didn't accept {sender name}'s {amount} payment.",[g._param("sender name",c),g._param("amount",e)]);else return g._("{receiver_name} didn't accept {sender_name}'s {amount} payment.",[g._param("receiver_name",d),g._param("sender_name",c),g._param("amount",e)])}function i(a,b,c,d,e){if(a)return g._("You sent {receiver name} {amount}.",[g._param("receiver name",d),g._param("amount",e)]);else if(b)return g._("{name} sent you {amount}.",[g._param("name",c),g._param("amount",e)]);else return g._("{sender name} sent {receiver name} {amount}.",[g._param("sender name",c),g._param("receiver name",d),g._param("amount",e)])}function j(a,b,c,d,e,f){b=[b,c,d,e,f];c=a||15;switch(c){case 5:return this.getTransferDeclinedSnippet.apply(this,b);case 3:case 10:case 11:case 12:case 16:return this.getTransferCanceledSnippet.apply(this,b)}return this.getTransferSentSnippet.apply(this,b)}}),null);
__d("MercuryAttachmentSnippetRenderer",["fbt","CurrentUser","MercuryAttachmentSnippetType","MercuryAudioType","MercuryGiftSnippetRenderer","MessengerLightweightActionUtils","P2PSnippetStringUtils","StickerConstants"],(function(a,b,c,d,e,f,g){"use strict";a={getAttachmentSnippetType:function(a){if(this._hasOnlyPhotos(a))return b("MercuryAttachmentSnippetType").PHOTO;if(this._hasOnlyAnimatedImages(a))return b("MercuryAttachmentSnippetType").GIF;if(this._hasOnlyVideo(a))return b("MercuryAttachmentSnippetType").VIDEO;if(this._hasAudioClip(a))return b("MercuryAttachmentSnippetType").AUDIO_CLIP;if(this._hasLikeSticker(a))return b("MercuryAttachmentSnippetType").LIKE_STICKER;if(this._hasSticker(a))return b("MercuryAttachmentSnippetType").STICKER;if(this._hasThirdPartySticker(a))return b("MercuryAttachmentSnippetType").THIRDPARTYSTICKER;if(this._hasShare(a))return b("MercuryAttachmentSnippetType").SHARE;if(this._hasGift(a))return b("MercuryAttachmentSnippetType").GIFT;if(this._hasError(a))return b("MercuryAttachmentSnippetType").ERROR;return this._hasFile(a)?b("MercuryAttachmentSnippetType").FILE:b("MercuryAttachmentSnippetType").MIXED},renderAttachmentSnippetText:function(a,c,d,e){switch(a){case b("MercuryAttachmentSnippetType").PHOTO:return this._renderPhotoAttachmentSnippetText(c,d,this._getPhotoAttachments(e));case b("MercuryAttachmentSnippetType").GIF:return this._renderAnimatedImagesAttachmentSnippetText(c,d,this._getAnimatedImageAttachments(e));case b("MercuryAttachmentSnippetType").VIDEO:return c?g._("You sent a video."):g._("{sender name} sent a video.",[g._param("sender name",d)]);case b("MercuryAttachmentSnippetType").AUDIO_CLIP:return c?g._("You sent a voice message."):g._("{name} sent a voice message.",[g._param("name",d)]);case b("MercuryAttachmentSnippetType").STICKER:case b("MercuryAttachmentSnippetType").LIKE_STICKER:case b("MercuryAttachmentSnippetType").THIRDPARTYSTICKER:return c?g._("You sent a sticker."):g._("{name} sent a sticker.",[g._param("name",d)]);case b("MercuryAttachmentSnippetType").SHARE:if(e&&this._hasP2PPayment(e))return this._renderP2PPaymentSnippetText(e[0]);if(e&&this._hasP2PPaymentRequest(e))return this._renderP2PPaymentRequestSnippetText(e[0]);if(e&&this._hasBusinessMessage(e))return this._renderBusinessMessageSnippetText(e[0],d);if(e&&this._hasLocation(e))return c?g._("You sent a location."):g._("{sender name} sent a location.",[g._param("sender name",d)]);if(e&&this._hasLiveLocation(e))return c?g._("You sent a live location."):g._("{sender name} sent a live location.",[g._param("sender name",d)]);if(e&&this._hasMontageDirect(e)){a=e[0];a=(a=a)!=null?(a=a.share)!=null?(a=a.media)!=null?a.source:a:a:a;return c?a?g._("You sent a video."):g._("You sent a photo."):a?g._("View {sender name}'s disappearing video.",[g._param("sender name",d)]):g._("View {sender name}'s disappearing photo.",[g._param("sender name",d)])}if(e&&e.length===1&&b("MessengerLightweightActionUtils").isLWAAttachment(e[0]))return b("MessengerLightweightActionUtils").getLWASnippetText(e);return e&&e.length===1&&this._isGloballyRemovedMessageAttachment(e[0])?e[0].share.description:c?g._("You sent a link."):g._("{sender name} sent a link.",[g._param("sender name",d)]);case b("MercuryAttachmentSnippetType").GIFT:return b("MercuryGiftSnippetRenderer").renderText(c,d);case b("MercuryAttachmentSnippetType").FILE:return c?g._("You sent an attachment."):g._("{sender name} sent an attachment.",[g._param("sender name",d)]);case b("MercuryAttachmentSnippetType").MIXED:return c?g._("You sent some attachments."):g._("{sender name} sent some attachments.",[g._param("sender name",d)]);case b("MercuryAttachmentSnippetType").ERROR:return c?g._("You sent an attachment."):g._("{sender name} sent an attachment.",[g._param("sender name",d)]);default:return""}},_isGloballyRemovedMessageAttachment:function(a){return a.share&&a.share.style_list&&a.share.style_list.includes("globally_deleted_message_placeholder")},_hasOnlyPhotos:function(a){return this._getPhotoAttachments(a).length===a.length},_hasThirdPartySticker:function(a){return a.length===1&&a[0].attach_type==="third_party_sticker"},_hasOnlyAnimatedImages:function(a){return this._getAnimatedImageAttachments(a).length===a.length},_hasOnlyVideo:function(a){return a.length===1&&a[0].attach_type==="video"},_hasAudioClip:function(a){var c=a[0].metadata&&a[0].metadata.type;return a.length===1&&(c===b("MercuryAudioType").AudioClip||c===b("MercuryAudioType").VoiceMessageWithTranscript)},_hasBusinessMessage:function(a){return this._hasSingleShareAttachmentOfStyle(a,"business_message_items")},_hasSticker:function(a){return a.length===1&&a[0].attach_type==="sticker"},_hasLikeSticker:function(a){if(a.length<1)return!1;var c=a[0].metadata&&a[0].metadata.stickerID;return a.length===1&&(c==b("StickerConstants").LIKE_STICKER_ID||c==b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||c==b("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID||c==b("StickerConstants").HOT_LIKE_LARGE_STICKER_ID)},_hasLocation:function(a){return this._hasSingleShareAttachmentOfStyle(a,"message_location")},_hasLiveLocation:function(a){return this._hasSingleShareAttachmentOfStyle(a,"message_live_location")},_hasMontageDirect:function(a){return this._hasSingleShareAttachmentOfStyle(a,"montage_direct")},_hasP2PPayment:function(a){return this._hasSingleShareAttachmentOfStyle(a,"orion")},_hasP2PPaymentRequest:function(a){return this._hasSingleShareAttachmentOfStyle(a,"orion_request")},_hasSingleShareAttachmentOfStyle:function(a,b){return a.length===1&&a[0].attach_type==="share"&&a[0].share&&a[0].share.style_list.indexOf(b)>=0},_hasShare:function(a){return a.length===1&&a[0].attach_type==="share"},_hasError:function(a){return a.length===1&&a[0].attach_type==="error"},_hasGift:function(a){return a.length===1&&a[0].attach_type==="gift"},_hasFile:function(a){return a.length===1&&a[0].attach_type==="file"},_getPhotoAttachments:function(a){return!a?[]:a.filter(function(a){return a.attach_type==="photo"})},_getAnimatedImageAttachments:function(a){return!a?[]:a.filter(function(a){return a.attach_type==="animated_image"})},_renderPhotoAttachmentSnippetText:function(a,b,c){if(c.length===1)if(a)return g._("You sent a photo.");else return g._("{name} sent a photo.",[g._param("name",b)]);else if(a)return g._({"*":"You sent {num_photos} photos."},[g._param("num_photos",c.length,[0])]);else return g._({"*":"{name} sent {num_photos} photos."},[g._param("name",b),g._param("num_photos",c.length,[0])])},_renderAnimatedImagesAttachmentSnippetText:function(a,b,c){if(c.length===1)if(a)return g._("You sent a GIF.");else return g._("{name} sent a GIF.",[g._param("name",b)]);else if(a)return g._("You sent {num_animated_images} GIFs.",[g._param("num_animated_images",c.length)]);else return g._("{name} sent {num_animated_images} GIFs.",[g._param("name",b),g._param("num_animated_images",c.length)])},_renderBusinessMessageSnippetText:function(a,b){a=a.share.target;a=a&&a.message||g._("{sender name} sent an attachment.",[g._param("sender name",b)]);return a},_renderP2PPaymentSnippetText:function(a){a=a.share.target;return this.renderP2PPaymentSnippetText(b("CurrentUser").getID()===a.sender.id,a.sender.name,a.amountWithSymbol,a.status,b("CurrentUser").getID()===a.receiver.id,a.receiver.name)},_renderP2PPaymentRequestSnippetText:function(a){a=a.share.target;return this.renderP2PPaymentRequestSnippetText(b("CurrentUser").getID()===a.requester.id,a.requester.name,a.amountWithSymbol,a.currentStatus,b("CurrentUser").getID()===a.requestee.id,a.requestee.name)},renderP2PPaymentSnippetText:function(a,c,d,e,f,g){return b("P2PSnippetStringUtils").getTransferSnippetByStatus(e,a,f||!1,c||"",g||"",d)},renderP2PPaymentRequestSnippetText:function(a,c,d,e,f,g){return b("P2PSnippetStringUtils").getRequestSnippetByStatus(e,a,f||!1,c||"",g||"",d)}};e.exports=a}),null);
__d("P2PPaymentRequestStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({INITED:1,DECLINED:2,TRANSFER_INITED:3,TRANSFER_COMPLETED:4,TRANSFER_FAILED:5,CANCELED:6,EXPIRED:7});e.exports=a}),null);
__d("P2PTransferStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({PENDING_SENDER_MANUAL_REVIEW:1,PENDING_SENDER_VERIFICATION:2,CANCELED_SENDER_RISK:3,PENDING_RECIPIENT_NUX:4,CANCELED_DECLINED:5,PENDING_RECIPIENT_VERIFICATION:6,PENDING_RECIPIENT_MANUAL_REVIEW:7,PENDING_RECIPIENT_PROCESSING:8,PENDING_PUSH_FAIL:9,CANCELED_RECIPIENT_RISK:10,CANCELED_SYSTEM_FAIL:11,CANCELED_EXPIRED:12,COMPLETED:13,INTERMEDIATE_PROCESSING:14,PENDING_SENDER_INITED:15,CANCELED_SAME_CARD:16,PENDING_SENDER_VERIFICATION_PROCESSING:17,PENDING_RECIPIENT_VERIFICATION_PROCESSING:18,CANCELED_SENDER_CANCEL:19,PENDING_SENDER_IDV_REVIEW:20,PENDING_RECEIVER_IDV_REVIEW:21});e.exports=a}),null);
__d("IntlDateStringsTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:IntlDateStringsLoggerConfig")}),null);
__d("IntlDateFormatsCLDRWidthEnum",[],(function(a,b,c,d,e,f){a=Object.freeze({FULL:"full",LONG:"long",MEDIUM:"medium",SHORT:"short"});e.exports=a}),null);
__d("RegionDatetimePatterns",[],(function(a,b,c,d,e,f){a=Object.freeze({DATE_SHORT:"date_short",DATETIME_SHORT_SHORT:"dateTime_short_short",TIME_SHORT:"time_short",TIME_MEDIUM:"time_medium",J:"j"});e.exports=a}),null);
__d("flipObject",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){return Object.entries(a).reduce(function(b,c){var d=c[0];c=c[1];Object.prototype.hasOwnProperty.call(a,d)&&typeof c!=="object"&&typeof c!=="function"&&c!=null&&(b[String(c)]=d);return b},{})}}),null);
__d("getCLDRLocalizedFormat",["CLDRDateFormatConfig","FBLogger","IntlDateFormatsCLDRWidthEnum","RegionDatetimePatterns","flipObject","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("CLDRDateFormatConfig").CLDRConfigeratorFormats,h=b("CLDRDateFormatConfig").CLDRRegionalConfigeratorFormats,i=b("flipObject")(b("RegionDatetimePatterns"));function a(a){if(a==null)throw b("unrecoverableViolation")('Format: "'+a+'", not supported by configurator.',"internationalization");var c,d,e=a.split("_"),f=e[0];e=e.slice(1);var l=f+"Formats";a in i?d=h:d=g;switch(l){case"dateFormats":case"timeFormats":var m=j(e[0]);if(m==null)throw b("unrecoverableViolation")('Format: "'+a+'", category: "'+l+'", with unsupported width: "undefined"',"internationalization");c=d[l][m];if(c==null)throw b("unrecoverableViolation")('Format: "'+a+'", category: "'+l+'", '+('width: "'+m+'", with unsupported localization'),"internationalization");break;case"dateTimeFormats":m=j(e[0]);e=j(e[1]);if(m==null||e==null)throw b("unrecoverableViolation")('Format: "'+a+'", category: "'+l+'", with unsupported width: dateFormatKey="undefined" timeFormatKey="undefined"',"internationalization");c=d[l][m];var n=d.dateFormats[m],o=d.timeFormats[e];if(c==null)throw b("unrecoverableViolation")('Format: "'+a+'", category: "'+l+'", '+('date width: "'+m+'", and time width: ')+('"'+e+'", with unsupported localization'),"internationalization");c=c.replace("{0}",o).replace("{1}",n);break;default:l="availableFormats";m=f;m.includes("j")&&(m=k(m,d.timeFormats));c=d[l][m];if(c==null)throw b("unrecoverableViolation")('Format: "'+a+'", with key: "'+m+'", not supported by CLDR',"internationalization")}return c}function j(a){if(a==null)throw b("unrecoverableViolation")("Expected CLDR width key to not be null","internationalization");return b("IntlDateFormatsCLDRWidthEnum")[a.toUpperCase()]}function k(a,c){var d;c=c["short"];c==null?(b("FBLogger")("formatDate").blameToPreviousFile().warn('CLDR `timeFormat`, width `short` required for 24 hour localization not found for availableKey: "%s"',a),d="h"):d=c.includes("H")?"H":"h";return a.replace("j",d)}e.exports=a}),null);
__d("intlGetDateNumerics",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){b=b.utc===!0;b?b={dateDay:a.getUTCDate(),dateDayOfWeek:a.getUTCDay(),dateMonth:a.getUTCMonth(),dateYear:a.getUTCFullYear(),dateHours:a.getUTCHours(),dateMinutes:a.getUTCMinutes(),dateSeconds:a.getUTCSeconds(),dateMilliseconds:a.getUTCMilliseconds()}:b={dateDay:a.getDate(),dateDayOfWeek:a.getDay(),dateMonth:a.getMonth(),dateYear:a.getFullYear(),dateHours:a.getHours(),dateMinutes:a.getMinutes(),dateSeconds:a.getSeconds(),dateMilliseconds:a.getMilliseconds()};return b}}),null);
__d("DateStrings",["fbt"],(function(a,b,c,d,e,f,g){f.getWeekdayName=a;f.getUppercaseWeekdayName=b;f.getWeekdayNameShort=c;f.getUppercaseWeekdayNameShort=d;f._initializeMonthNames=q;f.getMonthName=e;f.getMonthNames=r;f.getUppercaseMonthName=s;f.getMonthNameShort=t;f.getUppercaseMonthNameShort=u;f.getOrdinalSuffix=v;f.getDayOfMonth=w;f.getDayLabel=x;f.getMonthLabel=y;f.getYearLabel=z;f.getHourLabel=A;f.getMinuteLabel=B;f.getDayPlaceholder=C;f.getMonthPlaceholder=D;f.getYearPlaceholder=E;f.getHourPlaceholder=F;f.getMinutePlaceholder=G;f.get12HourClockSuffix=H;f.getUppercase12HourClockSuffix=I;var h,i,j,k,l,m,n,o,p;function a(a){m||(m=[g._("Sunday"),g._("Monday"),g._("Tuesday"),g._("Wednesday"),g._("Thursday"),g._("Friday"),g._("Saturday")]);return m[a]}function b(a){o||(o=[g._("SUNDAY"),g._("MONDAY"),g._("TUESDAY"),g._("WEDNESDAY"),g._("THURSDAY"),g._("FRIDAY"),g._("SATURDAY")]);return o[a]}function c(a){n||(n=[g._("Sun"),g._("Mon"),g._("Tue"),g._("Wed"),g._("Thu"),g._("Fri"),g._("Sat")]);return n[a]}function d(a){p||(p=[g._("SUN"),g._("MON"),g._("TUE"),g._("WED"),g._("THU"),g._("FRI"),g._("SAT")]);return p[a]}function q(){h=[g._("January"),g._("February"),g._("March"),g._("April"),g._("May"),g._("June"),g._("July"),g._("August"),g._("September"),g._("October"),g._("November"),g._("December")]}function e(a){h||q();return h[a-1]}function r(){h||q();return h.slice()}function s(a){k||(k=[g._("JANUARY"),g._("FEBRUARY"),g._("MARCH"),g._("APRIL"),g._("MAY"),g._("JUNE"),g._("JULY"),g._("AUGUST"),g._("SEPTEMBER"),g._("OCTOBER"),g._("NOVEMBER"),g._("DECEMBER")]);return k[a-1]}function t(a){i||(i=[g._("Jan"),g._("Feb"),g._("Mar"),g._("Apr"),g._("May"),g._("Jun"),g._("Jul"),g._("Aug"),g._("Sep"),g._("Oct"),g._("Nov"),g._("Dec")]);return i[a-1]}function u(a){j||(j=[g._("JAN"),g._("FEB"),g._("MAR"),g._("APR"),g._("MAY"),g._("JUN"),g._("JUL"),g._("AUG"),g._("SEP"),g._("OCT"),g._("NOV"),g._("DEC")]);return j[a-1]}function v(a){l||(l=["",g._("st"),g._("nd"),g._("rd"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("st"),g._("nd"),g._("rd"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("st")]);return l[a]}function w(a){switch(a){case 1:return g._("1st");case 2:return g._("2nd");case 3:return g._("3rd");case 4:return g._("4th");case 5:return g._("5th");case 6:return g._("6th");case 7:return g._("7th");case 8:return g._("8th");case 9:return g._("9th");case 10:return g._("10th");case 11:return g._("11th");case 12:return g._("12th");case 13:return g._("13th");case 14:return g._("14th");case 15:return g._("15th");case 16:return g._("16th");case 17:return g._("17th");case 18:return g._("18th");case 19:return g._("19th");case 20:return g._("20th");case 21:return g._("21st");case 22:return g._("22nd");case 23:return g._("23rd");case 24:return g._("24th");case 25:return g._("25th");case 26:return g._("26th");case 27:return g._("27th");case 28:return g._("28th");case 29:return g._("29th");case 30:return g._("30th");case 31:return g._("31st");default:throw new Error("Invalid day of month.")}}function x(){return g._("Day:")}function y(){return g._("Month:")}function z(){return g._("Year:")}function A(){return g._("Hour:")}function B(){return g._("Minute:")}function C(){return g._("dd")}function D(){return g._("mm")}function E(){return g._("yyyy")}function F(){return g._("h")}function G(){return g._("m")}function H(a){return a<12?g._("am"):g._("pm")}function I(a){return a<12?g._("AM"):g._("PM")}}),null);
__d("padNumber",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){a=a.toString();return a.length>=b?a:"0".repeat(b-a.length)+a}}),null);
__d("intlRenderJSDateSymbol",["DateStrings","padNumber","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d,e,f){f===void 0&&(f=0);d=d.skipSuffixLocalization===!0;f=f;var g="";switch(c){case"\\":f++;if(e==null)throw b("unrecoverableViolation")("Only deprecated calls to `intlRenderJSDateSymbol()` use `localizedJSFormat`.","internationalization");g=e.charAt(f);break;case"d":g=b("padNumber")(a.dateDay,2);break;case"j":g=a.dateDay;break;case"S":g=b("DateStrings").getOrdinalSuffix(a.dateDay);break;case"D":g=b("DateStrings").getWeekdayNameShort(a.dateDayOfWeek);break;case"l":g=b("DateStrings").getWeekdayName(a.dateDayOfWeek);break;case"F":case"f":g=b("DateStrings").getMonthName(a.dateMonth+1);break;case"M":g=b("DateStrings").getMonthNameShort(a.dateMonth+1);break;case"m":g=b("padNumber")(a.dateMonth+1,2);break;case"n":g=a.dateMonth+1;break;case"Y":g=a.dateYear;break;case"y":g=(""+a.dateYear).slice(2);break;case"a":d?g=a.dateHours<12?"am":"pm":g=b("DateStrings").get12HourClockSuffix(a.dateHours);break;case"A":d?g=a.dateHours<12?"AM":"PM":g=b("DateStrings").getUppercase12HourClockSuffix(a.dateHours);break;case"g":a.dateHours===0||a.dateHours===12?g="12":g=a.dateHours%12;break;case"G":g=a.dateHours;break;case"h":a.dateHours===0||a.dateHours===12?g="12":g=b("padNumber")(a.dateHours%12,2);break;case"H":g=b("padNumber")(a.dateHours,2);break;case"i":g=b("padNumber")(a.dateMinutes,2);break;case"s":g=b("padNumber")(a.dateSeconds,2);break;case"X":g=b("padNumber")(a.dateMilliseconds,3);break;default:g=c}return{idx:f,rendered:String(g)}}}),null);
__d("intlRenderCLDRDate",["CLDRDateFormatConfig","intlRenderJSDateSymbol","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=/\w+/;function a(a,c,d){var e=b("CLDRDateFormatConfig").intlDateSpecialChars,f="",g="",i=!1,j=[],k;a=a.split(e.cldrDelimiter+e.singleQuote).join(e.singleQuoteHolder);for(var l=0,m=a.length;l<m;l++){var n=a.charAt(l);!i?n===e.cldrDelimiter?i=!0:f.length===0||f[0]===n?f+=n:n===e.singleQuoteHolder?f+=e.singleQuote:(k=h(f,d,c),j.push(k.rendered),f=n):(f.length!==0&&(k=h(f,d,c),j.push(k.rendered),f=""),n===e.cldrDelimiter?(i=!1,j.push(g),g=""):n===e.singleQuoteHolder?g+=e.singleQuote:g+=n)}if(g.length!==0)throw b("unrecoverableViolation")('Format: "'+a+'" must contain closing str literal delimiter',"internationalization");f.length!==0&&(k=h(f,d,c),j.push(k.rendered));return j.join("")}function h(a,c,d){a=i(a);return b("intlRenderJSDateSymbol")(c,a,d)}function i(a){if(a in b("CLDRDateFormatConfig").CLDRToPHPSymbolConversion)return b("CLDRDateFormatConfig").CLDRToPHPSymbolConversion[a];if(g.test(a))throw b("unrecoverableViolation")('Unsupported CLDR symbol: "'+a+'". If string literal, wrap in delimiters',"internationalization");return a}e.exports=a}),null);
__d("formatDate",["CLDRDateFormatConfig","CLDRDateRenderingClientRollout","DateFormatConfig","FBLogger","IntlDateStringsTypedLoggerLite","IsInternSite","Random","getCLDRLocalizedFormat","intlGetDateNumerics","intlRenderCLDRDate","intlRenderJSDateSymbol","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({today:null,yesterday:null,thisWeek:null,thisMonth:null,thisYear:null,withinDay:null,withinWeek:null,withinMonth:null,withinYear:null,older:null,future:null,allOtherTimes:null});g.DEFAULT_FORMAT="M j, Y g:i A";g.periodNames=Object.freeze(Object.keys(a));function g(a,c,d){a=a;d=d||{skipSuffixLocalization:!1,skipPatternLocalization:!1,utc:!1,formatInternal:!1,throwCLDRError:!1};if(c==null||c===""||a==null||!(a||a===0))return"";typeof a==="string"&&(isNaN(Number(a))&&b("FBLogger")("i18n-formatDate").event("date_string_must_be_timestamp").blameToPreviousFile().mustfix("The date passed to formatDate is a string, but not a timestamp. formatDate expects strings to be a string representation of a Unix "+('timestamp but was passed "'+a+'"')),a=parseInt(a,10));typeof a==="number"&&(a=new Date(a*1e3));if(!(a instanceof Date))throw b("unrecoverableViolation")("The date passed to formatDate must be either a unix timestamp or JavaScript date object.","internationalization");if(isNaN(a.getTime()))throw b("unrecoverableViolation")("Invalid date passed to formatDate","internationalization");a.getTime()>=1e15&&b("FBLogger")("i18n-formatDate").event("date_too_far_in_future").blameToPreviousFile().info("The date passed to formatDate is too far in the future. Did you mix up milliseconds/seconds?");c=j(a,c);a=b("intlGetDateNumerics")(a,d);return h(c,a,d)}function h(a,c,d){var e=a,f=!!d.skipPatternLocalization,g=d.formatInternal===!0;if(!f&&(g||!b("IsInternSite").is_intern_site))if(a in b("CLDRDateFormatConfig").supportedPHPFormatsKeys)try{f=b("CLDRDateFormatConfig").supportedPHPFormatsKeys[a];g=b("getCLDRLocalizedFormat")(f);l(a,f,g);return b("intlRenderCLDRDate")(g,d,c)}catch(a){b("FBLogger")("i18n-formatDate").event("CLDR_date_format_render_error").blameToPreviousFile().catching(a).mustfix("CLDR date format render error");if(d.throwCLDRError===!0)throw a}else if(b("DateFormatConfig").formats[a])e=b("DateFormatConfig").formats[a],l(a);else if(!b("IsInternSite").is_intern_site)if(a.length!==1)throw b("unrecoverableViolation")("Trying to localize an unsupported date format: "+a+".Please see the INTL_DATE_FORMATS sitevar for a list of formats.","internationalization");return i(e,d,c)}function i(a,c,d){var e=[];for(var f=0;f<a.length;f++){var g=a.charAt(f);g=b("intlRenderJSDateSymbol")(d,g,c,a,f);e.push(g.rendered);f=g.idx}return e.join("")}function j(a,c){var d=g.DEFAULT_FORMAT;if(typeof c==="string")return c;else if(typeof c==="object"){var e=a.getTime();for(var f=k(),h=Array.isArray(f),i=0,f=h?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=f.length)break;j=f[i++]}else{i=f.next();if(i.done)break;j=i.value}j=j;var l=c[j.name];if(l!=null&&j.start<=e&&e<j.end)return l}b("FBLogger")("i18n-formatDate").event("matching_period_format_not_found").blameToPreviousFile().warn('Matching period not found for date "%s", using default format "%s". Current timestamp: "%s"',e,d,Date.now());return d}else{b("FBLogger")("i18n-formatDate").event("invalid_format_argument").blameToPreviousFile().warn('Called with invalid format "%s" (type: %s) for date "%s", using default: %s',c,typeof c,a.getTime(),d);return d}}function k(){var a=new Date(),c=a.getTime(),d=a.getFullYear(),e=a.getMonth(),f=new Date(d,a.getMonth()+1,0).getDate(),g=new Date(d,1,29).getMonth()===1?366:365,h=1e3*60*60*24,i=new Date(a.setHours(0,0,0,0)),j=new Date(d,e,i.getDate()+1);a=a.getDate()-(a.getDay()-b("DateFormatConfig").weekStart+6)%7;var k=new Date(c).setDate(a);a=new Date(c).setDate(a+7);var l=new Date(d,e,1);e=new Date(d,e,f+1);var m=new Date(d,0,1);d=new Date(d+1,0,1);return[{name:"today",start:i.getTime(),end:j.getTime()},{name:"withinDay",start:c-h,end:c+h},{name:"yesterday",start:i.getTime()-h,end:i.getTime()-1},{name:"thisWeek",start:k,end:a},{name:"withinWeek",start:c-h*7,end:c+h*7},{name:"thisMonth",start:l.getTime(),end:e.getTime()},{name:"withinMonth",start:c-h*f,end:c+h*f},{name:"thisYear",start:m.getTime(),end:d.getTime()},{name:"withinYear",start:c-h*g,end:c+h*g},{name:"older",start:-Infinity,end:c},{name:"future",start:c,end:+Infinity},{name:"allOtherTimes",start:-Infinity,end:+Infinity}]}function l(a,c,d){c===void 0&&(c=null),d===void 0&&(d=null),b("Random").random()<b("CLDRDateRenderingClientRollout").formatDateClientLoggerSamplingRate&&b("IntlDateStringsTypedLoggerLite").log({datetime_format:a,logged_from_client:!0,cldr_key:c,cldr_value:d})}e.exports=g}),null);
__d("MMessagePayload",["fbt","ChannelEventType","CurrentUser","MercuryAttachmentSnippetRenderer","MercuryAudioType","P2PPaymentRequestStatus","P2PTransferStatus","formatDate"],(function(a,b,c,d,e,f,g){"use strict";var h=25,i=1e3,j="g:ia";a=function(){function a(a){this.$1=a}var c=a.prototype;c.isPageMessage=function(){return this.$1.type===b("ChannelEventType").PAGES_MESSAGE};c.getThreadFBID=function(){return this.$1.thread_fbid?this.$1.thread_fbid.toString():null};c.getHref=function(){return this.$1.href};c.getAuthorFBID=function(){return this.$1.sender_fbid.toString()};c.getAuthorName=function(){return this.$1.sender_name};c.getThreadName=function(){return this.$1.thread_name};c.getThreadUnreadCount=function(){return this.$1.thread_unread_count};c.getSnippet=function(){var a=this.$1.log_message?this.$1.log_message:this.$1.body;if(a)if(a.length>h)return g._("{shortened body}{dot dot dot (for truncation)}",[g._param("shortened body",a.substring(0,h)),g._param("dot dot dot (for truncation)","...")]);else return a;a=this.$1.attachments.map(function(a){if(a.sticker_attachment)return{attach_type:"sticker",metadata:{stickerID:a.sticker_attachment.id}};else if(a.blob_attachment)if(a.blob_attachment.__typename==="MessageImage")if(a.blob_attachment.render_as_sticker)return{attach_type:"third_party_sticker"};else return{attach_type:"photo"};else if(a.blob_attachment.__typename==="MessageAnimatedImage")return{attach_type:"animated_image"};else if(a.blob_attachment.__typename==="MessageVideo")return{attach_type:"video"};else if(a.blob_attachment.audio_type&&(a.blob_attachment.audio_type==="VOICE_MESSAGE"||a.blob_attachment.audio_type==="VOICE_MESSAGE_WITH_TRANSCRIPT"))return{metadata:{type:b("MercuryAudioType").AudioClip}};else if(a.blob_attachment.__typename==="MessageFile")if(a.blob_attachment.is_malicious)return{attach_type:"error"};else return{attach_type:"file"};else return{attach_type:"unknown"};else if(a.extensible_attachment)if(a.extensible_attachment.story_attachment){var c;a=a.extensible_attachment.story_attachment;var d=a.target;c=(c=d)!=null?c.__typename:c;if(c==="MessengerBusinessMessage"){return{share:{style_list:a.style_list,target:{message:(a=d)!=null?a.message:a}},attach_type:"share"}}else if(c==="PeerToPeerPaymentRequest"){var e;a=(a=d)!=null?a.request_status:a;return{share:{style_list:["orion_request"],target:{requester:{id:(e=d)!=null?(e=e.requester)!=null?e.id:e:e,name:(e=d)!=null?(e=e.requester)!=null?e.short_name:e:e},amountWithSymbol:(e=d)!=null?(e=e.amount)!=null?e.formatted:e:e,currentStatus:a?b("P2PPaymentRequestStatus")[a]:null,requestee:{id:(e=d)!=null?(e=e.requestee)!=null?e.id:e:e,name:(a=d)!=null?(a=a.requestee)!=null?a.short_name:a:a}}},attach_type:"share"}}else if(c==="PeerToPeerTransfer"){a=(e=d)!=null?e.transfer_status:e;return{share:{style_list:["orion"],target:{sender:(e=d)!=null?e.sender:e,amountWithSymbol:(e=d)!=null?(e=e.transaction_amount)!=null?e.formatted_amount:e:e,status:a?b("P2PTransferStatus")[a]:null,receiver:{id:(e=d)!=null?(e=e.receiver_profile)!=null?e.id:e:e,name:(a=d)!=null?(a=a.receiver_profile)!=null?a.short_name:a:a}}},attach_type:"share"}}else if(c==="MessageLiveLocation")return{share:{style_list:["message_live_location"]},attach_type:"share"};else if(c==="MessageLocation")return{share:{style_list:["message_location"]},attach_type:"share"};return{attach_type:"share"}}else return{attach_type:"share"};else return{attach_type:"unknown"}});var c=b("MercuryAttachmentSnippetRenderer").getAttachmentSnippetType(a);return b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(c,this.getAuthorFBID()===b("CurrentUser").getID(),this.getAuthorName(),a)};c.getMessage=function(){return this.$1.body};c.getTime=function(){return b("formatDate")(this.$1.timestamp/i,j)};c.getTimestamp=function(){return this.$1.timestamp.toString()};c.getUUID=function(){return this.$1.message_id};c.getFolder=function(){return this.$1.folder};c.getMessageSource=function(){return this.$1.source};c.getParticipantIDs=function(){var a=this.$1.participant_ids||[];return a.map(function(a){return a.toString()})};c.hasThreadImage=function(){return this.$1.has_thread_image};c.hasWorkForeignParticipants=function(){return this.$1.work_foreign_participant_ids&&this.$1.work_foreign_participant_ids.length>0};c.getWorkForeignParticipantIds=function(){return this.$1.work_foreign_participant_ids};c.getAttachmentCount=function(){return this.$1.attachments.length};c.getAttachments=function(){return this.$1.attachments};c.isCanonicalThread=function(){return!!this.$1.is_canonical};c.isUnread=function(){return this.$1.is_unread};c.getOtherUserFBID=function(){var a=this.$1.participant_ids;if(!this.isCanonicalThread())return null;else if(a.length===1)return a[0].toString();else return a[0].toString()===b("CurrentUser").getID()?this.isPageMessage()?a[0].toString():a[1].toString():a[0].toString()};c.getThreadNameWithUnreadCount=function(){return!this.getThreadUnreadCount()?this.getThreadName():g._("{thread name} ({unread count})",[g._param("thread name",this.getThreadName()),g._param("unread count",this.getThreadUnreadCount())])};return a}();e.exports=a}),null);
__d("CallbackManagerController",["ErrorGuard"],(function(a,b,c,d,e,f){var g;a=function(){function a(a){this.$2=[],this.$1=[void 0],this.$3=a}var c=a.prototype;c.executeOrEnqueue=function(a,b,c){c=Boolean(c)?c:{};var d=this.$4(b,a,c);if(d)return 0;this.$1.push({fn:b,request:a,options:c});d=this.$1.length-1;this.$2.push(d);return d};c.unsubscribe=function(a){delete this.$1[a]};c.reset=function(){this.$1=[]};c.getRequest=function(a){return this.$1[a]};c.runPossibleCallbacks=function(a){var b=this,c=this.$2;this.$2=[];var d=[];c.forEach(function(c){var e=b.$1[c];if(!e)return;e=b.$3(e.request,babelHelpers["extends"]({},e.options,a));e?d.push({args:e,id:c}):b.$2.push(c)});d.forEach(function(a){var c=a.args;a=a.id;var d=b.$1[a];if(!d)return;delete b.$1[a];b.$5(d.fn,c,d.request)})};c.$4=function(a,b,c){c=this.$3(b,c);c&&this.$5(a,c,b);return!!c};c.$5=function(a,c,d){d={ids:d};(g||(g=b("ErrorGuard"))).applyWithGuard(a,d,c)};return a}();e.exports=a}),null);
__d("KeyedCallbackManager",["CallbackManagerController","FBLogger"],(function(a,b,c,d,e,f){a=function(){function a(){this.$2={},this.$1=new(b("CallbackManagerController"))(this.$3.bind(this))}var c=a.prototype;c.executeOrEnqueue=function(a,c){if(!(a instanceof Array)){var d=a,e=c;a=[a];c=function(a){e(a[d])}}a=a.filter(function(a){var c=a!==null&&a!==void 0;c||b("FBLogger")("KeyedCallbackManager").mustfix("KeyedCallbackManager.executeOrEnqueue: key %s is invalid",JSON.stringify(a));return c});return this.$1.executeOrEnqueue(a,c)};c.unsubscribe=function(a){this.$1.unsubscribe(a)};c.reset=function(){this.$1.reset(),this.$2={}};c.getUnavailableResources=function(a){var b=this;a=this.$1.getRequest(a);var c=[];a&&(c=a.request.filter(function(a){return!b.$2[a]}));return c};c.getUnavailableResourcesFromRequest=function(a){a=Array.isArray(a)?a:[a];return a.filter(function(a){if(a!==null&&a!==void 0)return!this.$2[a]},this)};c.addResourcesAndExecute=function(a){Object.assign(this.$2,a),this.$1.runPossibleCallbacks()};c.setResource=function(a,b){this.$2[a]=b,this.$1.runPossibleCallbacks()};c.getResource=function(a){return this.$2[a]};c.getAllResources=function(){return this.$2};c.dumpResources=function(){var a=this,b={};Object.keys(this.$2).forEach(function(c){var d=a.$2[c];typeof d==="object"&&(d=babelHelpers["extends"]({},d));b[c]=d});return b};c.$3=function(a){var b={};for(var c=0;c<a.length;c++){var d=a[c],e=this.$2[d];if(typeof e==="undefined")return!1;b[d]=e}return[b]};return a}();e.exports=a}),null);
__d("MMessageServerResourceFetcher",["KeyedCallbackManager","MRequest"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c){this.$3=a,this.$4=c,this.$1=new(b("KeyedCallbackManager"))(),this.$2={}}var c=a.prototype;c.get=function(a,b){this.getMulti([a],function(c){b(c[a])})};c.getMulti=function(a,c){var d=this;c=!this.$1.executeOrEnqueue(a,c);if(c)return;var e=a.filter(function(a){var b=!d.$1.getResource(a)&&!d.$2[a];b&&(d.$2[a]=!0);return b});if(e.length===0)return;c=new(b("MRequest"))(this.$3(e)).setMethod("POST");c.listen("done",function(a){if(!a||!a.payload)return;a=d.$4(a.payload);a&&d.$1.addResourcesAndExecute(a)});c.listen("finally",function(a){e.forEach(function(){delete d.$2[a]})});c.send()};c.set=function(a,b){var c={};c[a]=b;this.$1.addResourcesAndExecute(c)};return a}();e.exports=a}),null);
__d("MercurySingletonProvider",["CurrentUser"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1={},this.$2=a}var c=a.prototype;c.getForFBID=function(a){this.$1[a]||(this.$1[a]=new this.$2(a));return this.$1[a]};c.get=function(){return this.getForFBID(b("CurrentUser").getID())};c.resetAll=function(){var a=this.$1;this.$1={};return a};a.mock=function(a){throw new Error("MercurySingletonProvider.mock() must only be used in tests.")};return a}();e.exports=a}),null);
__d("XChatThreadInfoAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/chat/thread_info/",{thread_fbids:{type:"StringVector",defaultValue:[]},other_user_fbids:{type:"StringVector",defaultValue:[]}})}),null);
__d("MMessagesThreadDataStore",["ActorURI","CurrentUser","MMessageServerResourceFetcher","MercurySingletonProvider","XChatThreadInfoAsyncController"],(function(a,b,c,d,e,f){"use strict";var g=null;a=function(){a.getProvider=function(){g===null&&(g=new(b("MercurySingletonProvider"))(a));return g};a.getForFBID=function(b){return a.getProvider().getForFBID(b)};a.get=function(){return a.getProvider().get()};function a(a){this.$6=a,this.$1=new(b("MMessageServerResourceFetcher"))(function(c){c=b("XChatThreadInfoAsyncController").getURIBuilder().setStringVector("other_user_fbids",c).getURI();b("CurrentUser").getID()!==a&&(c=b("ActorURI").create(c,a));return c.toString()},function(a){return a.profiles}),this.$2=new(b("MMessageServerResourceFetcher"))(function(c){c=b("XChatThreadInfoAsyncController").getURIBuilder().setStringVector("thread_fbids",c).getURI();b("CurrentUser").getID()!==a&&(c=b("ActorURI").create(c,a));return c.toString()},function(a){return a.profiles}),this.$3={},this.$5={},this.$4={}}var c=a.prototype;c.$7=function(a,b){if(a)return this.$1;else return this.$2};c.getForNewMessage=function(a,b,c,d,e){var f=this,g=this.$7(a,b),h=a||b;g.get(h,function(a){f.$3[h]===void 0?(f.$3[h]=a.unread_count,delete a.unread_count,f.$5[c]=!0):f.$5[c]||(delete a.unread_count,f.$5[c]=!0,d?f.$3[h]=f.$3[h]+1:f.$3[h]=0),f.$4[h]===void 0&&(f.$4[h]=a.pages_is_flagged),a.thread_unread_count=f.$3[h],e(a)})};c.updateFlagStatus=function(a,b,c,d){var e=this;if(typeof c!=="boolean")return;var f=this.$7(a,b),g=a||b;f.get(g,function(a){e.$4[g]=c,d()})};c.getIsThreadFlagged=function(a,b){a=a||b;return this.$4[a]};c.clearUnreadCount=function(a,b,c){var d=this,e=this.$7(a,b),f=a||b;e.get(f,function(a){d.$3[f]=0,c()})};c.clearAllUnread=function(){this.$3={}};return a}();e.exports=a}),null);
__d("XChatUserInfoAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/chat/user_info/",{ids:{type:"IntVector",defaultValue:[]}})}),null);
__d("MShortProfiles",["MMessageServerResourceFetcher","XChatUserInfoAsyncController"],(function(a,b,c,d,e,f){"use strict";f.get=a;f.getMulti=c;f.set=d;var g=new(b("MMessageServerResourceFetcher"))(function(a){return b("XChatUserInfoAsyncController").getURIBuilder().setIntVector("ids",a.map(Number)).getURI().toString()},function(a){return a.profiles});function a(a,b){g.get(a,b)}function c(a,b){g.getMulti(a,b)}function d(a,b){g.set(a,b)}}),null);
__d("MercuryIDs",["gkx"],(function(a,b,c,d,e,f){"use strict";var g={isValid:function(a){return a==null||a===""||typeof a!=="string"?!1:/^\w{3,12}:.+/.test(a)},isValidThreadID:function(a){if(!g.isValid(a))return!1;a=g.tokenize(a);switch(a.type){case"user":case"support":case"thread":case"root":return!0;default:return(a.type==="pending"||a.type==="group")&&!b("gkx")("863760")?!0:!1}},tokenize:function(a){if(a==null||a===""||!g.isValid(a))throw new Error("bad_id_format "+String(a));var b=a.indexOf(":");return{type:a.substr(0,b),value:a.substr(b+1)}},getUserIDFromParticipantID:function(a){if(!g.isValid(a))throw new Error("bad_id_format "+a);a=g.tokenize(a);var b=a.type;a=a.value;return b==="fbid"?a:null},getParticipantIDFromUserID:function(a){if(isNaN(a))throw new Error("Not a user ID: "+a);return"fbid:"+a},getUserIDFromThreadID:function(a){return!this.isCanonical(a)?null:this.tokenize(a).value},getThreadIDFromUserID:function(a){return"user:"+a},getThreadIDFromThreadFBID:function(a){return"thread:"+a},getThreadIDFromSupportInboxItemID:function(a){return"support:"+a},getThreadFBIDFromThreadID:function(a){return this.tokenize(a).value},getThreadKeyfromThreadIDUserID:function(a,b){if(a==null||a===""||!g.isValid(a))throw new Error("bad_id_format "+String(a));var c=this.tokenize(a).type;a=this.tokenize(a).value;if(c!=="user")return"g"+a;c="";var d="";if(a.length!==b.length)a.length>b.length?(c=a,d=b):(c=b,d=a);else if(b===a)return b+"u"+a;else{var e=0;while(e<a.length&&e<b.length)if(a[e]===b[e])e++;else{a[e]>b[e]?(c=a,d=b):(c=b,d=a);break}}return d+"u"+c},getThreadIDFromParticipantID:function(a){a=this.getUserIDFromParticipantID(a);return a?this.getThreadIDFromUserID(a):null},getParticipantIDFromFromThreadID:function(a){a=this.getUserIDFromThreadID(a);return a?this.getParticipantIDFromUserID(a):null},getSupportInboxItemIDFromThreadID:function(a){return this.tokenize(a).value},isCanonical:function(a){return this.isValid(a)&&this.tokenize(a).type==="user"},isGroupChat:function(a){return this.isValid(a)&&this.tokenize(a).type!=="user"},isLocalThread:function(a){return this.isValid(a)&&this.tokenize(a).type==="root"}};e.exports=g}),null);
__d("MMessagesChannelPayloadPreparer",["MMessagePayload","MMessagesConfig","MMessagesThreadDataStore","MShortProfiles","MercuryIDs","Promise","Stratcom","promiseDone"],(function(a,b,c,d,e,f){"use strict";a={fetchDataThenDispatch:function(a){a.message.folder=a.folder;a.message.sender_fbid=b("MercuryIDs").getUserIDFromParticipantID(a.message.author);b("MMessagesConfig").msite_genie_xma_rendering&&this._processGenieMessage(a.message);var c=a.targetFBID?a.targetFBID:a.realtime_viewer_fbid.toString(),d=[new(b("Promise"))(function(d,e){e=b("MMessagesThreadDataStore").getForFBID(c);e.getForNewMessage(a.message.other_user_fbid,a.message.thread_fbid,a.message.message_id,a.message.is_unread,function(a){d(a)})}),new(b("Promise"))(function(c,d){b("MShortProfiles").get(a.message.sender_fbid.toString(),function(a){c(a)})})];b("promiseDone")(b("Promise").all(d),function(c){var d=c[0];c=c[1];Object.assign(a.message,{is_muted:d.mute_until!==void 0,thread_name:d.thread_name,participant_ids:d.participant_ids,has_thread_image:d.has_thread_image,work_foreign_participant_ids:d.work_foreign_participant_ids,is_canonical:d.is_canonical,href:d.href,thread_unread_count:d.thread_unread_count,pages_is_flagged:d.pages_is_flagged,sender_name:c.name,type:a.type});a.parsedPayload=new(b("MMessagePayload"))(a.message);b("Stratcom").invoke(a.type,null,a)})},_processGenieMessage:function(a){if(!a.has_attachment||!a.attachments)return;for(var b=a.attachments.length-1;b>=0;b-=1){var c=a.attachments[b];if(!c.share||!c.share.style_list||c.share.style_list[0]!="genie_message")continue;c.share.target.genie_id&&(a.sender_fbid=c.share.target.genie_id,a.sender="fbid:"+c.share.target.genie_id);c.share.target.genie_name&&(a.sender_name=c.share.target.genie_name);c.share.target&&!c.share.target.attachment&&(a.attachments.splice(b,1),a.has_attachment=a.attachments.length>0)}}};e.exports=a}),null);
__d("XVideoHomeMobileBadgingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/watch/m/badge/",{})}),null);
__d("MWatchJewel",["CSS","DOM","MRequest","Stratcom","XVideoHomeMobileBadgingController","formatNumber"],(function(a,b,c,d,e,f){var g,h,i=9,j="videos_tab_jewel_button";function a(a,c){g=a;var d=b("Stratcom").listen("click",j,function(){k(0),d.remove()});if(c){h=b("DOM").find(g,"span","count");a=b("XVideoHomeMobileBadgingController").getURIBuilder().getURI();c=new(b("MRequest"))(a);c.listen("done",function(a){k(a.payload.count)});c.send()}}function k(a){var c=b("formatNumber").withMaxLimit(a,i);b("DOM").setContent(h,c);b("CSS").conditionClass(g,"noCount",a===0);b("CSS").conditionClass(g,"hasCount",a>0);b("CSS").conditionClass(g,"largeCount",c.length>1)}c={init:a};e.exports=c}),null);
__d("useHeroBootloadedComponent",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){}}),null);
__d("MMessagesReadReceipts",[],(function(a,b,c,d,e,f){"use strict";f.init=a;f.update=b;f.getSeenBy=c;var g=void 0,h={};function a(a,b){g=a,h=b}function b(a,b){if(a!==g)return;for(var c in b){if(!Object.prototype.hasOwnProperty.call(b,c))continue;a=b[c].action;var d=h[c].action;d===void 0?h[c]=b[c]:h[c]=Math.max(d,a)===d?h[c]:b[c]}}function c(a,b,c){if(a!==g)return{};a={};for(var d in h){if(!Object.prototype.hasOwnProperty.call(h,d))continue;else if(c.indexOf(d)!==-1)continue;else if(h[d].action<b)continue;a[d]=h[d].action}return a}}),null);
__d("IrisProtocolMessageLifetime",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TTL_OFF:0,TTL_ON_UNKNOWN:1,TTL_30SECONDS:3e4,TTL_1MINUTE:6e4,TTL_3MINUTES:18e4,TTL_5MINUTES:3e5,TTL_10MINUTES:6e5,TTL_15MINUTES:9e5,TTL_30MINUTES:18e5,TTL_1HOUR:36e5,TTL_2HOURS:72e5,TTL_4HOURS:144e5,TTL_8HOURS:288e5,TTL_12HOURS:432e5,TTL_24HOURS:864e5,TTL_36HOURS:1296e5,TTL_72HOURS:2592e5})}),null);
__d("MercuryMessageCustomizations",[],(function(a,b,c,d,e,f){"use strict";f.parseCustomizations=a;function a(a){var b=JSON.parse(a),c=[];Object.keys(b).forEach(function(a){c.push({customization_type:a,customization_value:b[a]})});return c}}),null);
__d("MercuryProfileRanges",[],(function(a,b,c,d,e,f){"use strict";function g(a){return!a.id&&a.i?{id:a.i,offset:a.o,length:a.l,type:a.t}:a}e.exports={extractFromDelta:function(a){a=(a=a)!=null?(a=a.data)!=null?a.prng:a:a;if(!a)return[];var b=[];try{b=JSON.parse(a);if(b.length>0)return b.map(g)}catch(a){}return b}}}),null);
__d("MessageThreadReadState",[],(function(a,b,c,d,e,f){"use strict";a={MARK_READ:1,MARK_UNREAD:2,KEEP_AS_IS:3};b=a;e.exports=b}),null);
__d("MessageThreadReadStateEffect",["MessageThreadReadState"],(function(a,b,c,d,e,f){"use strict";f.extractThreadStateEffectFromDelta=a;function a(a,c){var d=c.messageMetadata.threadReadStateEffect;if(d!=null){var e=b("MessageThreadReadState")[d];return e===void 0&&typeof d==="number"?d:e}d=c.messageMetadata.skipBumpThread;return d===!0?b("MessageThreadReadState").KEEP_AS_IS:a!==c.messageMetadata.actorFbId?b("MessageThreadReadState").MARK_UNREAD:b("MessageThreadReadState").KEEP_AS_IS}}),null);
__d("MMercurySyncNewMessageTransformer",["IrisProtocolMessageLifetime","MercuryIDs","MercuryMessageCustomizations","MercuryProfileRanges","MessageThreadReadState","MessageThreadReadStateEffect","MessagingTag"],(function(a,b,c,d,e,f){"use strict";f.transform=a;var g=function(a){var b={};try{b=JSON.parse(a)}catch(a){}return b instanceof Array?b[0]:b};function a(a,c){var d=parseInt(c.messageMetadata.timestamp,10),e=c.messageMetadata.skipBumpThread,f=b("MessageThreadReadStateEffect").extractThreadStateEffectFromDelta(a,c);a=f===b("MessageThreadReadState").MARK_UNREAD&&a!==c.messageMetadata.actorFbId;var h=[];c.attachments&&(h=c.attachments.map(function(a){return a.mercury}));var i=c.messageMetadata.tags?c.messageMetadata.tags[0]:void 0;return{message_id:c.messageMetadata.messageId,threading_id:null,offline_threading_id:c.messageMetadata.offlineThreadingId,author:b("MercuryIDs").getParticipantIDFromUserID(c.messageMetadata.actorFbId),author_email:c.messageMetadata.actorFbId+"@facebook.com",ephemeral_ttl_mode:c.ttl?b("IrisProtocolMessageLifetime")[c.ttl]:0,timestamp:d,is_unread:a,is_filtered_content:!1,is_filtered_content_bh:!1,is_filtered_content_account:!1,is_filtered_content_quasar:!1,is_filtered_content_invalid_app:!1,source:i,tags:c.messageMetadata.tags,is_spoof_warning:!1,folder:b("MessagingTag").INBOX,thread_fbid:c.messageMetadata.threadKey.threadFbId,other_user_fbid:c.messageMetadata.threadKey.otherUserFbId,body:c.body!==void 0?c.body:"",html_body:null,subject:null,has_attachment:h.length>0,attachments:h,ranges:void 0,thread_id:null,action_type:"ma-type:user-generated-message",is_from_iris:!0,is_sponsored:!!(c.data&&c.data.is_sponsored&&c.data.is_sponsored==="true")||!!(c.untypedData&&c.untypedData.is_sponsored&&c.untypedData.is_sponsored==="true"),commerce_message_type:c.data?c.data.commerce_message_type:null,customizations:c.data&&c.data.customization?b("MercuryMessageCustomizations").parseCustomizations(c.data.customization):null,platform_xmd:c.data&&c.data.platform_xmd?c.data.platform_xmd:null,profile_ranges:b("MercuryProfileRanges").extractFromDelta(c),message_source:c.data&&c.data.message_source_data?g(c.data.message_source_data).message_source:null,skip_bump_thread:e,thread_read_state_effect:f,montage_reply_data:c.data&&c.data.montage_reply_data?g(c.data.montage_reply_data):null,meta_ranges:c.data&&c.data.meta_ranges?g(c.data.meta_ranges):null}}}),null);
__d("MMercurySyncReplaceMessageTransformer",["MMercurySyncNewMessageTransformer"],(function(a,b,c,d,e,f){"use strict";f.transform=a;function a(a,c){c=Object.assign({},c.newMessage,c);return Object.assign(b("MMercurySyncNewMessageTransformer").transform(a,c),{action_type:"ma-type:replace-message",replaced_message_id:c.replacedMessageId})}}),null);
__d("MMercuryUnsendMessageProcessor",[],(function(a,b,c,d,e,f){"use strict";f.process=a;function a(){document.location.reload()}}),null);
__d("MReplaceMessageProcessor",[],(function(a,b,c,d,e,f){"use strict";f.process=a;function a(a){}}),null);
__d("MercurySyncDeltaTypes",[],(function(a,b,c,d,e,f){"use strict";a={AdminAddedToGroupThread:"AdminAddedToGroupThread",AdminRemovedFromGroupThread:"AdminRemovedFromGroupThread",AdminTextMessage:"AdminTextMessage",ChangeViewerStatus:"ChangeViewerStatus",DeliveryReceipt:"DeliveryReceipt",ForcedFetch:"ForcedFetch",MarkRead:"MarkRead",MarkUnread:"MarkUnread",MarkFolderSeen:"MarkFolderSeen",MessageDelete:"MessageDelete",NewMessage:"NewMessage",NoOp:"NoOp",PagesManagerEvent:"PagesManagerEvent",ParticipantLeftGroupThread:"ParticipantLeftGroupThread",ParticipantsAddedToGroupThread:"ParticipantsAddedToGroupThread",ReadReceipt:"ReadReceipt",ReplaceMessage:"ReplaceMessage",ThreadAction:"ThreadAction",ThreadDelete:"ThreadDelete",ThreadFolder:"ThreadFolder",ThreadMuteSettings:"ThreadMuteSettings",ThreadName:"ThreadName",JoinableMode:"JoinableMode",ApprovalMode:"ApprovalMode",ApprovalQueue:"ApprovalQueue",ClientPayload:"ClientPayload",GenieMessage:"GenieMessage",MontageMessage:"MontageMessage",RtcCallData:"RtcCallData"};b=a;e.exports=b}),null);
__d("MercurySyncMarkFolderSeenTransformer",["MessagingTag"],(function(a,b,c,d,e,f){"use strict";f.transform=a;function a(a){return a.folders.map(function(c){return{action_type:"mga-type:mark-all-seen",folder:b("MessagingTag").IRIS_MAPPING[c],timestamp:parseInt(a.timestamp,10)}})}}),null);
__d("MercurySyncMarkReadTransformer",["MessagingTag"],(function(a,b,c,d,e,f){"use strict";f.transform=a;function a(a){return a.folders&&a.folders.length>0?a.folders.map(function(c){return{action_type:"mga-type:mark-all-read",action_id:null,folder:b("MessagingTag").IRIS_MAPPING[c],timestamp:parseInt(a.watermarkTimestamp,10)}}):a.threadKeys.map(function(c){return{action_type:"ma-type:change_read_status",other_user_fbid:c.otherUserFbId,thread_fbid:c.threadFbId,mark_as_read:!0,timestamp:parseInt(a.watermarkTimestamp,10),folder:b("MessagingTag").INBOX}})}}),null);
__d("MercurySyncMarkUnreadTransformer",["MessagingTag"],(function(a,b,c,d,e,f){"use strict";f.transform=a;function a(a){return a.threadKeys.map(function(c){return{action_type:"ma-type:change_read_status",other_user_fbid:c.otherUserFbId,thread_fbid:c.threadFbId,mark_as_read:!1,timestamp:parseInt(a.watermarkTimestamp,10),folder:b("MessagingTag").INBOX}})}}),null);
__d("MercurySyncPagesManagerEventTransformer",[],(function(a,b,c,d,e,f){"use strict";f.transform=a;function a(a){var b=JSON.parse(a.jsonBlob),c=b&&b.type;if(!c)return void 0;switch(c){case 1:c=!!(b&&b.flagData&&b.flagData.state);b={action_type:"ma-type:change_flag",mark_as_flag:c,other_user_fbid:a.threadKey.otherUserFbId,thread_fbid:a.threadKey.threadFbId};return b;default:return void 0}}}),null);
__d("MercurySyncReadReceiptTransformer",[],(function(a,b,c,d,e,f){"use strict";f.transform=a;function a(a){var b={watermark:parseInt(a.watermarkTimestampMs,10),action:parseInt(a.actionTimestampMs,10)},c=a.threadKey.otherUserFbId||a.actorFbId;a=a.threadKey.otherUserFbId||a.threadKey.threadFbId;var d={roger:{}};d.roger[a]={};d.roger[a][c]=b;return d}}),null);
__d("MMercurySyncDispatcher",["ChannelEventType","CurrentUser","MMercurySyncNewMessageTransformer","MMercurySyncReplaceMessageTransformer","MMercuryUnsendMessageProcessor","MMessagesChannelPayloadPreparer","MMessagesReadReceipts","MMessagesThreadDataStore","MReplaceMessageProcessor","MercurySingletonProvider","MercurySyncDeltaTypes","MercurySyncMarkFolderSeenTransformer","MercurySyncMarkReadTransformer","MercurySyncMarkUnreadTransformer","MercurySyncPagesManagerEventTransformer","MercurySyncReadReceiptTransformer","MessagingTag","ODS","Stratcom","emptyFunction"],(function(a,b,c,d,e,f){"use strict";var g=null,h={};a=function(){a.getProvider=function(){g===null&&(g=new(b("MercurySingletonProvider"))(a));return g};a.getForFBID=function(b){return a.getProvider().getForFBID(b)};a.get=function(){return a.getProvider().get()};function a(a){this.$1=a,this.$2=b("CurrentUser").getAccountID()===this.$1?b("ChannelEventType").MESSAGE:b("ChannelEventType").PAGES_MESSAGE}var c=a.prototype;c.process=function(a,c){var d=this,e="none";a!=null&&a["class"]!=null&&a["class"]!=""&&(e=a["class"]);b("ODS").bumpEntityKey(2966,"SyncDispatcher","receive."+c+"."+e);if(c==="cp")return;if(a.irisTags&&a.irisTags.includes("interop_may_suppress"))return;switch(a["class"]){case b("MercurySyncDeltaTypes").NewMessage:e=a.messageMetadata.offlineThreadingId+"|"+(a.messageMetadata.actorFbId||"");c=e!=null?h[e]!==void 0:!1;if(c)break;e!=null&&(h[e]=!0);c=b("MMercurySyncNewMessageTransformer").transform(this.$1,a);e={message:c,type:this.$2,folder:b("MessagingTag").INBOX,targetFBID:this.$1};b("MMessagesChannelPayloadPreparer").fetchDataThenDispatch(e);break;case b("MercurySyncDeltaTypes").MarkUnread:c=b("MercurySyncMarkUnreadTransformer").transform(a);c.map(function(a){e={message:a,type:d.$2,event:"unread",is_sync:!0,targetFBID:d.$1},b("Stratcom").invoke(e.type,null,e)});break;case b("MercurySyncDeltaTypes").MarkRead:c=b("MercurySyncMarkReadTransformer").transform(a);c.map(function(a){a.action_type==="mga-type:mark-all-read"?b("MMessagesThreadDataStore").getForFBID(d.$1).clearAllUnread():b("MMessagesThreadDataStore").getForFBID(d.$1).clearUnreadCount(a.other_user_fbid,a.thread_fbid,b("emptyFunction")),e={message:a,type:d.$2,event:a.action_type==="mga-type:mark-all-read"?"mark_all_read":"read",is_sync:!0,targetFBID:d.$1},b("Stratcom").invoke(e.type,null,e)});break;case b("MercurySyncDeltaTypes").MarkFolderSeen:c=b("MercurySyncMarkFolderSeenTransformer").transform(a);c.map(function(a){e={message:a,type:d.$2,event:"mark_all_seen",is_sync:!0,targetFBID:d.$1},b("Stratcom").invoke(e.type,null,e)});break;case b("MercurySyncDeltaTypes").ReadReceipt:c=b("MercurySyncReadReceiptTransformer").transform(a);var f=Object.keys(c.roger)[0],g=c.roger[f];b("MMessagesReadReceipts").update(f,g);e={message:c,type:this.$2,event:"read_receipt",is_sync:!0,targetFBID:this.$1};b("Stratcom").invoke(e.type,null,e);break;case b("MercurySyncDeltaTypes").PagesManagerEvent:c=b("MercurySyncPagesManagerEventTransformer").transform(a);if(!c||c.action_type!=="ma-type:change_flag")return;b("MMessagesThreadDataStore").getForFBID(this.$1).updateFlagStatus(c.other_user_fbid,null,c.mark_as_flag,b("emptyFunction"));e={event:b("ChannelEventType").PAGE_THREAD_FLAG_CHANGED,flagged:c.mark_as_flag,other_user_fbid:c.other_user_fbid,type:b("ChannelEventType").PAGES_MESSAGE};b("Stratcom").invoke(e.type,null,e);break;case b("MercurySyncDeltaTypes").ReplaceMessage:c=b("MMercurySyncReplaceMessageTransformer").transform(this.$1,a);e={message:c,type:this.$2,folder:b("MessagingTag").INBOX,targetFBID:this.$1};b("MReplaceMessageProcessor").process(e);b("Stratcom").invoke(e.type,null,e);break;case b("MercurySyncDeltaTypes").ClientPayload:f=JSON.parse(String.fromCharCode.apply(null,a.payload));g=f&&f.deltas;if(g.length>0){a=g[0];if(a.deltaMessageReply){f=a.deltaMessageReply.message;c=b("MMercurySyncNewMessageTransformer").transform(this.$1,f);e={message:c,type:this.$2,folder:b("MessagingTag").INBOX,targetFBID:this.$1};b("MMessagesChannelPayloadPreparer").fetchDataThenDispatch(e)}a.deltaRecallMessageData&&b("MMercuryUnsendMessageProcessor").process()}break;default:break}};return a}();e.exports=a}),null);
__d("SyncProtocolConstants",[],(function(a,b,c,d,e,f){a="IRIS_CURSOR_LIMIT";f.IRIS_CURSOR_LIMIT=a;b="SNAPSHOT_FAILURE";f.SNAPSHOT_FAILURE=b}),null);
__d("SyncProtocolClient",["Int64","MercurySingletonProvider","MqttEnv","SyncProtocolConstants","exponentialBackoff"],(function(a,b,c,d,e,f){"use strict";var g=b("MqttEnv").Env;a=function(){a.getForFBID=function(a){return h.getForFBID(a)};function a(a){var c=this;this.$1=a;this.$2=[];this.$5=g.getLoggerInstance();this.$10=new(b("exponentialBackoff"))(function(){return c.$11()},this)}var c=a.prototype;c.getPublishMessages=function(){return this.$12()};c.init=function(a,c,d,e){var f=this;if(!c&&!e){this.$5.bumpCounter("sp_init_invalid_parameter");return this}this.$9=a;this.$8=!0;this.$3=c?b("Int64").fromString(c):null;this.$6=d;this.$7=e;this.$4=null;this.$9.subscribe("/t_ms",function(a){return f.$13(a)});this.$9.subscribe("/thread_typing",function(a){f.$14(a)});this.$9.subscribe("/orca_typing_notifications",function(a){f.$14(a)});this.$9.subscribe("/notify_disconnect",function(a){return f.$15(a)});this.connectToIris();return this};c.connectToIris=function(a){a===void 0&&(a=null),a!==null&&(this.$3=b("Int64").fromString(a)),this.$8=!0,this.$9.registerExtraConnectPayloadProvider(this)};c.$12=function(){var a;if(this.$4){if(!this.$3){this.$5.bumpCounter("connect_payload_iris_no_seq_id");return[]}a=this.$16()}else a=this.$17();this.$5.debugTrace("Sending request with MQTT Connect",JSON.stringify({topic:a.topic,payload:a.payload}));return[a]};c.$11=function(){var a;if(this.$4){if(!this.$3){this.$5.bumpCounter("subscribe_to_iris_no_seq_id");return}a=this.$16()}else a=this.$17();this.$5.debugTrace("Sending request",JSON.stringify({topic:a.topic,payload:a.payload}));this.$9.publish(a.topic,a.payload,{qos:1,skipBuffer:!0})};c.$18=function(a){var b=null;try{b=JSON.parse(a)}catch(a){this.$5.logError(a,"Unable to process data")}return b};c.$14=function(a){var b=this.$18(a);if(b==null){this.$5.logWarn("_processTypingData","Unable to process typing data");return}this.$2.forEach(function(a){typeof a.onTypingReceived==="function"&&a.onTypingReceived(b)})};c.addDeltaStreamListener=function(a){this.$2.push(a)};c.$15=function(a){this.$5.logWarn("_handleNotifyDisconnect","Disconnecting reason: "+a),this.$5.bumpCounter("notify_disconnect_"+a),a===b("SyncProtocolConstants").IRIS_CURSOR_LIMIT&&this.$19(a)};c.$19=function(a){this.$5.bumpCounter(a+"_request"),this.$4=null,this.$8=!1,this.$9.unregisterExtraConnectPayloadProvider(this),this.$2.forEach(function(b){return b.onStreamDisconnect(a)})};c.$13=function(a){a=this.$18(a);if(a==null){this.$5.logWarn("_processDeltas","Unable to process delta");return}var b={syncToken:a.syncToken,entityId:a.queueEntityId,errorCode:a.errorCode,firstSeqId:a.firstDeltaSeqId,lastSeqId:a.lastIssuedSeqId};this.$5.debugTrace("Sync data received",JSON.stringify(b));b=this.$1;a.queueEntityId!=null&&a.queueEntityId!=b?this.$5.bumpCounter("delta_for_other_fbid"):a.syncToken?this.$20(a):a.queueEntityId==null?this.$5.bumpCounter("no_fbid"):a.errorCode?this.$21(a.errorCode):this.$22(a)};c.$21=function(a){this.$5.bumpCounter("iris_queue_error."+a),this.$5.logWarn("_handleIrisError","Recevied an error code from sync protocol "+a),a==="ERROR_QUEUE_TEMPORARY_NOT_AVAILABLE"?this.$10():this.$19(a)};c.$20=function(a){var c=this,d=b("Int64").fromString(a.firstDeltaSeqId.toString());(this.$3===null||this.$3!=null&&!this.$3.equals(d))&&this.$5.bumpCounter("initial_sequence_id_mismatch");this.$4=a.syncToken;this.$3=d;this.$5.debugTrace("Sync token received",JSON.stringify({token:this.$4}));this.$9.subscribeChannelEvents({onMQTTStateChanged:function(a){a==="Connected"&&c.$10.reset()}})};c.$22=function(a){var c=a.deltas,d=this.$3;if(c&&d){var e=b("Int64").fromString(a.firstDeltaSeqId.toString());a=b("Int64").fromString(a.lastIssuedSeqId.toString());e.equals(d.add(b("Int64").ONE))?this.$23(e,a,c):e.compare(d)<0?(this.$5.bumpCounter("delta_batch_in_middle"),a.compare(d)>0&&this.$23(d.add(b("Int64").ONE),a,c)):(this.$5.bumpCounter("missing_deltas_get_diffs"),this.$11())}else this.$5.bumpCounter("process_deltas_invalid_state")};c.$23=function(a,c,d){a=a;for(var e=0;e<d.length;e++){var f=d[e],g=f["class"]||"Missing",h={seqId:a.toString(),type:g,status:""},i=1;if(g!="Missing")try{i=this.$24(f,g,a,h)}catch(a){h.status="err:"+a.message}else h.status="no type",this.$5.bumpCounter("missing_delta_type");this.$5.debugTrace("onDeltaReceived",JSON.stringify(h));a=a.add(b("Int64").fromInt(i))}this.$3=c};c.$24=function(a,c,d,e){var f=1,g="";c==="NoOp"&&(f=a.numNoOps||f,g+="n:"+f);a.irisSeqId||(a.irisSeqId=d.toString(),g+="missing seq id");var h=b("Int64").fromString(a.irisSeqId.toString())||d;h.equals(d)?g+=" seqId match":(g+=" seqId mismatch",this.$5.bumpCounter("seq_id_running_id_mismatch"));var i={type:c,payload:a};this.$2.forEach(function(a){return a.onDeltaReceived(i)});e.status=g;return f};c.$17=function(){var a={sync_api_version:10,max_deltas_able_to_process:1e3,delta_batch_size:500,encoding:"JSON",entity_fbid:this.$1,initial_titan_sequence_id:this.$3&&this.$3.toString(),device_params:this.$6,queue_position:this.$7};return{topic:"/messenger_sync_create_queue",payload:JSON.stringify(a),qos:1}};c.$16=function(){var a={sync_token:this.$4,sync_api_version:10,max_deltas_able_to_process:1e3,delta_batch_size:500,encoding:"JSON",entity_fbid:this.$1,last_seq_id:this.$3&&this.$3.toString()};return{topic:"/messenger_sync_get_diffs",payload:JSON.stringify(a),qos:1}};return a}();var h=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MMessengerMQTTConnection",["CurrentUser","FBMqttChannel","MMercurySyncDispatcher","MercurySingletonProvider","MqttLogger","SyncProtocolClient","gkx"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a,this.$2=b("MqttLogger").getInstance(),this.$3=!1}a.getForFBID=function(a){return g.getForFBID(a)};a.setUp=function(c){var d=c.fbid,e=c.irisSeqID;c.appID;c.endpoint;if(!d||!e)return;c=b("MqttLogger").getInstance();if(!b("CurrentUser").isLoggedInNow()){c.debugTrace("run","User not logged in");c.bumpCounter("mtouch.user_not_loggged_in");return}else c.bumpCounter("mtouch.setup");c=a.getForFBID(d);c.initializeDeltaStream(d,e)};var c=a.prototype;c.initializeDeltaStream=function(a,c){if(this.$3)return;this.$2.bumpCounter("MMessageMQTTConnection.initializeDeltaStream");this.$3=!0;var d=null;b("gkx")("687751")&&(d={accept_pending_deltas:!0});b("SyncProtocolClient").getForFBID(a).init(b("FBMqttChannel"),c,d).addDeltaStreamListener(this)};c.onDeltaReceived=function(a){a.type;a=a.payload;b("MMercurySyncDispatcher").getForFBID(this.$1.toString()).process(a,"mqtt")};c.onStreamDisconnect=function(a){this.$2.bumpCounter("mtouch.stream_disconnect."+a)};return a}();e.exports=a;var g=new(b("MercurySingletonProvider"))(a)}),null);
__d("MNotificationReadAll",["CSS","DOM","DataStore","Stratcom","XAsyncRequest","ge"],(function(a,b,c,d,e,f){f.init=a;var g="read_all",h={},i=!1;function a(){if(i)return;b("Stratcom").listen("click",g,j);b("Stratcom").listen("m:page:render:cache:complete",null,k);i=!0}function j(){var a=b("ge")("notifications_list");if(!a)return;l(a)}function k(a){if(a.getData().path.indexOf("notifications")>-1)for(var b in h){a=document.getElementById(b);a&&m(a)}}function l(a){a=b("DOM").scry(a,"div","notification marea");if(!a)return;function c(c,a){c=b("DataStore").get(c,"notif_id");typeof c==="number"&&(h[c.toString()]=!0);m(a)}for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;if(b("CSS").hasClass(f,"aclb")){var g=b("DOM").find(f,"a");c(g,f)}}new(b("XAsyncRequest"))().setURI("/a/jewel_notifications_read.php").setMethod("POST").setData({ids:Object.keys(h),seen:!1}).send()}function m(a){b("CSS").addClass(a,"acw"),b("CSS").removeClass(a,"aclb")}}),null);
__d("SecurePostMessage",["invariant"],(function(a,b,c,d,e,f,g){"use strict";var h="*";a={sendMessageToSpecificOrigin:function(a,b,c,d){c!==h||g(0,21157),a.postMessage(b,c,d)},sendMessageForCurrentOrigin:function(a,b){a.postMessage(b)},sendMessageAllowAnyOrigin_UNSAFE:function(a,b,c){a.postMessage(b,h,c)}};e.exports=a}),null);
__d("XBrowserPushXOutController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/client/push/xout/",{})}),null);
__d("XPushRegisterServiceWorkerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/push/register/service_worker/",{})}),null);
__d("MNotificationsPushInstall",["BanzaiLogger","DOM","KaiOSController","MPushPermissionUtil","MRequest","MobileAppDetect","Promise","PushRegistration","SecurePostMessage","Stratcom","URI","XBrowserPushXOutController","XPushRegisterServiceWorkerController"],(function(a,b,c,d,e,f){var g;function h(a,c,d){a={event:a,appid:c,surface:d};b("BanzaiLogger").log("BrowserPushLoggerConfig",a)}function i(a){b("Stratcom").invoke(a),window.parent&&b("SecurePostMessage").sendMessageAllowAnyOrigin_UNSAFE(window.parent,a)}function j(a){if(!a)return!1;a=new(g||(g=b("URI")))(a).getDomain();return!a||a===window.location.hostname?!1:!0}a={installHandler:function(a,c,d){d===void 0&&(d=!1);h("turn_on",a.appID,c);var e;b("MobileAppDetect").is_kaios?e=a.registerPushOnKaiOS(b("XPushRegisterServiceWorkerController"),b("MRequest"),b("KaiOSController")):(b("MPushPermissionUtil").logEvent("turn_on_attempt",d),b("PushRegistration").pushPermissionIsPending()&&b("Stratcom").invoke("m:notifications:push:install:showCurtain"),e=new(b("Promise"))(function(c,d){return a.registerPush(b("XPushRegisterServiceWorkerController"),b("MRequest"),!0,c)["catch"](d)}));return new(b("Promise"))(function(f,g){e.then(function(){b("Stratcom").invoke("m:notifications:push:install:hideCurtain");b("MPushPermissionUtil").logEvent("allow",d);h("install",a.appID,c);f(!0);i("m:notifications:push:install:installed");return})["catch"](function(e){b("Stratcom").invoke("m:notifications:push:install:hideCurtain");window.Notification&&window.Notification.permission==="denied"?(b("MPushPermissionUtil").logEvent("deny",d),h("deny",a.appID,c)):(b("MPushPermissionUtil").logEvent("install_ignore",d),h("install_ignore",a.appID,c));i("m:notifications:push:install:notInstalled");g(e);return})})},xoutHandler:function(a,c){return new(b("Promise"))(function(d,e){h("xout",a.appID,c);var f=b("XBrowserPushXOutController").getURIBuilder().getURI();f=new(b("MRequest"))(f);f.setMethod("POST");f.listen("finally",d);f.listen("fail",e);f.send()})},registerOnHostIfNeeded:function(a){return new(b("Promise"))(function(c,d){var e;if(!j(a)){c(!1);return}var f=b("DOM").create("iframe",{style:{height:"1px",width:"1px",display:"none"}});f.id="PushIframe";b("DOM").appendContent(window.document.body,f);f.src=(e=a)!=null?e:"";e=function(a){if(a.source!==f.contentWindow)return;a.data==="m:notifications:push:install:installed"&&c(!0);a.data==="m:notifications:push:install:notInstalled"&&d(!0)};window.removeEventListener("message",e,!1);window.addEventListener("message",e,!1)})}};e.exports=a}),null);
__d("MNotificationsPushInstallCurtain",["cx","CSS","DOM","MViewport","Stratcom"],(function(a,b,c,d,e,f,g){f.startListening=a;var h="upsell_curtain",i="curtain_with_context",j=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]),k=null;function l(){if(k instanceof HTMLElement){var a=n(k);a&&b("CSS").show(k)}b("Stratcom").listen("click",h,m)}function m(){k instanceof HTMLElement&&b("CSS").hide(k)}function a(a){k=a,b("Stratcom").listen("m:notifications:push:install:showCurtain",null,l),b("Stratcom").listen("m:notifications:push:install:hideCurtain",null,m)}function n(a){if(a.id!==i)return!0;var c=b("MViewport").getHeaderElement();if(b("MViewport").getHeight()*window.devicePixelRatio<400||b("MViewport").isLandscape()||!a||!c||!c.parentNode||!c.parentNode.parentNode||c.parentNode.parentNode.id!=="page")return!1;o(a);q(a);var d=b("DOM").create("div",{position:"relative"});d.appendChild(a);b("DOM").insertAfter(c.parentNode,d);return!0}function o(a){if(p()){a=a.getElementsByClassName("_1t9n")[0];a&&b("CSS").addClass(a,"_u6u")}}function p(){var a=b("DOM").create("div");a.setAttribute("style","position: fixed; bottom: 0; height: 100vh;");b("DOM").appendContent(document.body,a);var c=a.offsetHeight>window.innerHeight&&a.offsetTop<0;b("DOM").remove(a);return c}function q(a){var b=navigator.language||" ";if(j.has(b.substring(0,2))||j.has(b.substring(0,3))){b=a.getElementsByClassName("_1f0e")[0];b&&(b.className="_1f0f")}}}),null);
__d("MNotificationsPushUpsellFunnelLogger",["BanzaiLogger"],(function(a,b,c,d,e,f){f.log=a;function a(a,c,d,e){a={attemptid:a,stage:c,appid:d,surface:e};b("BanzaiLogger").log("BrowserPushRegistrationFlowLoggerConfig",a)}}),null);
__d("MToastAction",["cx","CSS","DOM","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";f.showToast=h;f.showDefaultToast=a;function h(a,c){var d=b("DOM").create("div",null,a);b("DOM").appendContent(document.body,d);b("setTimeoutAcrossTransitions")(function(){return b("CSS").addClass(d,"_4zke")},c);b("setTimeoutAcrossTransitions")(function(){return b("DOM").remove(d)},c+1e3)}function a(a,c){a=b("DOM").create("div",{className:"_3fcy"},a);a=b("DOM").create("div",{className:"_2jow _3fc-"},a);h(a,c)}}),null);
__d("QPEventHandling",[],(function(a,b,c,d,e,f){"use strict";f.registerClickListener=a;function a(a,b,c){a.addEventListener("click",c)}}),null);
__d("XQuickPromotionSimpleLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/qp/action/log/",{qp_id:{type:"Int",required:!0},qp_action:{type:"Enum",enumType:1},qp_instance_log_data:{type:"StringToStringMap",defaultValue:{}},qp_event:{type:"String"},privacy_mutation_token:{type:"String"}})}),null);
__d("QPRenderer",["csx","CSS","FBLogger","Parent","QPEventHandling","XAsyncRequest","XQuickPromotionSimpleLoggingController","ge"],(function(a,b,c,d,e,f,g){"use strict";f.logEvent=h;f.logAction=a;f.setAction=c;f.setComponentActionForFeedUnitQP=d;f.setDialogActionsAndShow=e;function h(a,c,d){a=b("XQuickPromotionSimpleLoggingController").getURIBuilder().setInt("qp_id",a).setString("qp_event",c).setStringToStringMap("qp_instance_log_data",d).getURI();new(b("XAsyncRequest"))(a).send()}function a(a,c,d){a=b("XQuickPromotionSimpleLoggingController").getURIBuilder().setInt("qp_id",a).setEnum("qp_action",c).setStringToStringMap("qp_instance_log_data",d).getURI();new(b("XAsyncRequest"))(a).send()}function c(a,c,d,e,f,g){e=b("ge")(e);e!==null?i(a,d,e,g,function(){f&&b("CSS").hide(c)}):b("FBLogger")("quick_promotion").mustfix("Quick Promotion %s is missing %s action element.",a,d)}function d(a,c,d,e,f){i(a,c,d,f,function(){if(e){var a=b("Parent").bySelector(d,"._5jmm");a instanceof HTMLElement&&b("CSS").hide(a)}})}function e(a,c,d){c.show();h(a,"view",{});c.subscribe("cancel",function(){h(a,"dialog_cancel",{})});for(var e=0;e<d.length;e++){var f=d[e],g=b("ge")(f.element_id);g!==null?(i(a,f.action,g,f.extra_log_data,f.should_close?function(){c.hide()}:function(){}),f.action=="primary"&&g.focus()):b("FBLogger")("quick_promotion").mustfix("Quick Promotion %s is missing %s action element.",a,f.action)}}function i(a,c,d,e,f){b("QPEventHandling").registerClickListener(d,c,function(){var d=b("XQuickPromotionSimpleLoggingController").getURIBuilder().setInt("qp_id",a).setEnum("qp_action",c).setStringToStringMap("qp_instance_log_data",e).getURI();new(b("XAsyncRequest"))(d).send();f()})}}),null);
__d("MNotificationsPushUpsellInstaller",["fbt","MJewels","MNotificationsPushInstall","MNotificationsPushUpsellFunnelLogger","MToastAction","PushRegistration","QE2Logger","QPRenderer","Stratcom","isVisible"],(function(a,b,c,d,e,f,g){f.invokeImpressionEvent=p;f.installOnUpsellClick=q;f.installDirectFromUpsell=a;f.install=c;var h=null,i=null,j=null,k=function(a){j&&j(a)},l=function(a,c,d,e,f,g){if(b("PushRegistration").pushPermissionIsDenied())return!1;if(f){b("QE2Logger").logExposureForUser(f);if(g)return!1}j=function(a){b("MNotificationsPushUpsellFunnelLogger").log(d,a,c,e)};i=e;h=b("PushRegistration").get(a,c);return!0},m=function(){if(h===null||i===null)return;k("try_install");b("MNotificationsPushInstall").installHandler(h,i).then(function(){k("install_success"),b("MToastAction").showDefaultToast(g._("Facebook notifications on"),3e3)})["catch"](function(){h!==null&&i!==null&&(b("PushRegistration").pushPermissionIsDenied()?(k("system_dialog_deny"),b("MNotificationsPushInstall").xoutHandler(h,i)):k("system_dialog_ignore"))})},n=function(a){k("impression"),b("QPRenderer").logEvent(a,"view",{}),k(b("PushRegistration").pushPermissionIsDenied()?"permissions_blocked":"permissions_unblocked")},o="m:qp:push-notifications:log-impression";function p(){b("Stratcom").invoke(o)}function q(a,c,d,e,f,g,h,i,j,q){if(!l(a,c,f,g,j,q))return!1;b("isVisible")(i)?n(h):(b("Stratcom").listen(o,null,function(){b("Stratcom").removeCurrentListener(),n(h)}),b("Stratcom").listen("m:jewel:flyout:open",null,function(a){a.getData().jewel===b("MJewels").NOTIFICATIONS&&(b("Stratcom").removeCurrentListener(),p())}));b("Stratcom").listen("click",d,function(){k("action_turn_on"),b("PushRegistration").pushPermissionIsDenied()?k("error_permissions_blocked"):m()});b("Stratcom").listen("click",e,function(){k("action_not_now")});return!0}function a(a,c,d,e,f,g,h){l(a,c,e,f,g,h)&&(p(),b("QPRenderer").logEvent(d,"view",{}),m())}function c(a){if(b("PushRegistration").pushPermissionIsDenied())return;a.isInControlGroup||(a.promotionContainerNode.style.display="block");q(a.path,a.appID,a.installButtonSigil,a.notNowButtonSigil,a.installAttemptID,a.surface,a.promotionID,a.promotionContainerNode,a.qeUniverseName,a.isInControlGroup)}}),null);
__d("MNotificationsDirectPrompt",["MNotificationsPushInstall","MNotificationsPushInstallCurtain","MNotificationsPushUpsellInstaller","MPushPermissionUtil","MRequest","MobileAppDetect","Promise","PushRegistration","XBrowserPushDisabledController","XPushRegisterServiceWorkerController","gkx","goURI","promiseDone"],(function(a,b,c,d,e,f){f.installPush=a;function a(a){a.curtain&&b("MNotificationsPushInstallCurtain").startListening(a.curtain);var c=b("PushRegistration").get(a.path,a.appID);if(b("MobileAppDetect").is_kaios){var d=b("gkx")("854369");(d||!a.isInstalled)&&!a.wasXOuted&&b("MNotificationsPushInstall").installHandler(c,"prompt");return}a.wasXOuted&&a.upsell?b("MNotificationsPushUpsellInstaller").installDirectFromUpsell(a.path,a.appID,a.upsell.promotionID,a.upsell.installAttemptID,a.upsell.surface,a.upsell.qeUniverseName,a.upsell.isInControlGroup):b("MPushPermissionUtil").logEvent("fresh_nonupsell_promo");var e=b("Promise").resolve(),f=function(){a.redirectUrl&&window.location!==a.redirectUrl&&(a.isNuxPrompt===!0?b("goURI")(a.redirectUrl,!1,!0):b("goURI")(a.redirectUrl+"?_rdr",!1,!0))};b("promiseDone")(b("MNotificationsPushInstall").registerOnHostIfNeeded(a.enabledUrl).then(function(d){if(d){b("MPushPermissionUtil").logEvent("already_registered");return}c.isPushRegistered(a.isInstalled,b("XPushRegisterServiceWorkerController"),b("XBrowserPushDisabledController"),b("MRequest"),a.registerAnyway,!0).then(function(d){a.wasXOuted?b("MPushPermissionUtil").logEvent("previously_xouted"):a.isInstalled&&d&&b("MPushPermissionUtil").logEvent("already_installed");if((!a.isInstalled||!d)&&!a.wasXOuted){b("MNotificationsPushInstall").installHandler(c,"prompt",(d=a.isNuxPrompt)!=null?d:!1)["catch"](function(){e=b("MNotificationsPushInstall").xoutHandler(c,"prompt")})["finally"](function(){return e.then(f)})}else f()},function(a){b("MPushPermissionUtil").logEvent("push_regn_failure")})},function(a){b("MPushPermissionUtil").logEvent("recently_rejected")}))}}),null);
__d("XBrowserPushRegistrationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/push/permissions/",{})}),null);
__d("MNotificationsUpdatePermissionStatus",["MRequest","XBrowserPushRegistrationController"],(function(a,b,c,d,e,f){"use strict";a={updateIfNeeded:function(a){if(a.host!==window.location.hostname)return;window.Notification&&window.Notification.permission!==a.state&&this._updateRegistration(window.location.hostname,window.Notification.permission)},_updateRegistration:function(a,c){var d=b("XBrowserPushRegistrationController").getURIBuilder().getURI();d=new(b("MRequest"))(d);d.setData({host:a,state:c});d.setMethod("POST");d.send()}};e.exports=a}),null);
__d("MSplashScreenSwRegistration",["PushRegistration","Run","ServiceWorkerRegistration"],(function(a,b,c,d,e,f){f.register=a;f.unregister=c;function a(a){b("Run").onAfterLoad(function(){b("ServiceWorkerRegistration").registerWorkerIfUnregistered(a)})}function c(){if(b("PushRegistration").pushPermissionIsOn())return;b("ServiceWorkerRegistration").unregisterControllingWorker()}}),null);
__d("MIOSAddToHomeScreenTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MIOSAddToHomeScreenLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MIOSAddToHomeScreenLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MIOSAddToHomeScreenLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};return a}();c={event:!0};e.exports=a}),null);
__d("MIOSAddToHomeScreen",["MHeadMeta","MIOSAddToHomeScreenTypedLogger"],(function(a,b,c,d,e,f){"use strict";f.isFullScreenTagExists=a;f.isFullScreen=c;f.logActivity=d;var g={};function a(){return b("MHeadMeta").isExistsByName("apple-mobile-web-app-capable")}function c(){return!!window.navigator.standalone}function d(a){if(g[a])return;new(b("MIOSAddToHomeScreenTypedLogger"))().setEvent(a).log();g[a]=!0}}),null);
__d("MIOSAddToHomeScreenController",["MIOSAddToHomeScreen"],(function(a,b,c,d,e,f){"use strict";f.init=a;function a(){b("MIOSAddToHomeScreen").isFullScreen()&&b("MIOSAddToHomeScreen").logActivity("usage")}}),null);